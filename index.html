<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>HTML Game Canvas</title>

		<!-- Include the JS for the static sample game using the game engine -->
		<script type="text/javascript" src="static/fallingBlocks.js"></script>

		<!-- webpack will inject game engine JS here -->
	</head>
	<body>
		<div class="container">
			<center>
				<div id="html_control_section"></div>
				<!-- canvas to draw on, the id must match to be found by framework -->
				<canvas id="html_game_canvas">Placeholder for canvas</canvas>
			</center>
		</div>
		<script type="text/javascript">
			/* 
			 * Placeholder for the sample game and game API objects initialized on load
			 */
			let gameApi = undefined;
			let game = undefined;

			/*
			 * On load, configure our gameCanvas and start
			 */
			window.onload = (event) => {
				if (window.gameCanvas) {
					// the api is all that is needed to config/run
					gameApi = window.gameCanvas.api;
					// init the game with the gameApi
					game = window.fallingBlocks;
					game.init(gameApi);
					// start the canvas engine
					gameApi.startGame();
					console.log("Started html game canvas engine");
				} else {
					console.log("Failed to load html game canvas engine");
				}
			}
		</script>
	</body>
</html>

